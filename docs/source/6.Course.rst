The  Kit Course Learning
========================

 - This kit not only provides you with a complete course curriculum but also guides you through a step-by-step in-depth study of the fundamentals and applications of the Internet of Things. 
 - In this section, we'll individually introduce each component and functional module included in the kit, from basic sensors and actuators to communication modules, to help you systematically understand their functions and usage. 
 - By studying the working principles of these components, you'll not only master how to connect and control modules in real-world projects, but also gain a deeper understanding of how IoT systems achieve environmental perception, intelligent linkage, and remote operation. 
 - This will lay a solid foundation for your subsequent experiments, course design, and IoT project development, allowing you to better grasp the core knowledge of smart hardware and the Internet of Things.
 - Click this link to download all the example code provided with this kit. `Download sample code <https://www.dropbox.com/scl/fo/syf1zstu58f4xlcld2nss/ACJOi93PcIafo5yGabrprDA?rlkey=hoc2undykymrxac7z8nclpk9u&st=el86zaw9&dl=1>`_  

.. note::

 The following courses all come with sample code. You have two options for flashing the code:

 Option 1: If you choose to flash the code using the Arduino IDE, click here to jump to the Arduino IDE flashing tutorial. :ref:`Arduino IDE burning program`

 Option 2: If you choose to flash the code using Espressif's official flashing tool, click here to jump to the official flashing tool flashing tutorial. :ref:`Direct Burn Program`

----

Course 1：TEMP_HUMI
-------------------

Wiring Diagram
~~~~~~~~~~~~~~

 - DHT11 Sensor → ESP32 IO15

.. image:: _static/COURSE/1.DHT11.png
   :width: 800
   :align: center

----

Sample Code
~~~~~~~~~~~

.. code-block:: cpp

 #include "DHT.h"

 // Define pin and sensor type
 #define DHTPIN 15         // DHT11 data pin connected to GPIO15 of ESP32
 #define DHTTYPE DHT11     

 DHT dht(DHTPIN, DHTTYPE); // Create DHT object

 void setup() {
  Serial.begin(115200);   // Initialize serial communication
  dht.begin();            // Initialize DHT11 sensor
  Serial.println("DHT11 Temperature & Humidity Sensor Test Started");
 }

 void loop() {
  delay(2000); // Read every two seconds

  float humidity = dht.readHumidity();     // Read humidity
  float temperature = dht.readTemperature(); // Read temperature (Celsius by default)

  // Check if read was successful
  if (isnan(humidity) || isnan(temperature)) {
    Serial.println("Failed to read from DHT11 sensor!");
    return;
  }

  // Output data to serial monitor
  Serial.print("Temperature: ");
  Serial.print(temperature);
  Serial.print(" °C  | Humidity: ");
  Serial.print(humidity);
  Serial.println(" %");
 }

----

Code Burning Options
~~~~~~~~~~~~~~~~~~~~

**You can directly copy the code provided above into the Arduino IDE for burning.**

1.Download the **1.TEMP_HUMI.ino** file from the provided resources, open it with the Arduino IDE and upload it to the ESP32 development board, or directly copy the complete code above into the Arduino IDE for programming.


2.Download the **1.TEMP_HUMI.bin** firmware file from the provided resources and flash it to the ESP32 development board using the flash_download_tool.

----

Effect Display
~~~~~~~~~~~~~~

Open the serial port monitor and select 115200 from the baud rate drop-down menu.

.. image:: _static/COURSE/5.dht11.png
   :width: 1000
   :align: center

.. raw:: html

   <div style="margin-top: 30px;"></div>

.. image:: _static/COURSE/6.DHT11.png
   :width: 500
   :align: center

.. raw:: html

   <div style="margin-top: 30px;"></div>

The serial monitor will output the current ambient temperature and humidity.

.. image:: _static/COURSE/4.DHT111.png
   :width: 500
   :align: center

----

Course 2：Brightness Detection
------------------------------

Wiring Diagram
~~~~~~~~~~~~~~

 - Light Sensor → ESP32 IO34

.. image:: _static/COURSE/2.light.png
   :width: 800
   :align: center

----

Sample Code
~~~~~~~~~~~

.. code-block:: cpp

   #include <Arduino.h>

   // Define sensor pin
   const int lightSensorPin = 34;  // S pin connected to GPIO34 (ADC input)

   void setup() {
       Serial.begin(115200);
       delay(1000);
       Serial.println("Light Sensor Test Started");
   }

   void loop() {
       int sensorValue = analogRead(lightSensorPin);
       float brightnessPercent = sensorValue * 100.0 / 4095.0;
       Serial.print("ADC Value: ");
       Serial.print(sensorValue);
       Serial.print("  |  Brightness: ");
       Serial.print(brightnessPercent);
       Serial.println("%");
       delay(3000);
   }

----

Code Burning Options
~~~~~~~~~~~~~~~~~~~~

**You can directly copy the code provided above into the Arduino IDE for burning.**

1.Download the **2.Brightness.ino** file from the provided resources, open it with the Arduino IDE and upload it to the ESP32 development board, or directly copy the complete code above into the Arduino IDE for programming.


2.Download the **2.Brightness.bin** firmware file from the provided resources and flash it to the ESP32 development board using the flash_download_tool.

----

Effect Display
~~~~~~~~~~~~~~

Open the serial port monitor and set the baud rate to 115200 to continuously read the ambient light intensity data in the serial port.

.. image:: _static/COURSE/7.light.png
   :width: 500
   :align: center

----

Course 3：Human Body Detection
------------------------------

Wiring Diagram
~~~~~~~~~~~~~~

 - PIR Sensor → ESP32 IO33

 - Light Sensor → ESP32 IO34

 - Buzzer Module → ESP32 IO26

.. image:: _static/COURSE/3.pir.png
   :width: 800
   :align: center

----

Sample Code
~~~~~~~~~~~

.. code-block:: cpp

   #include <Arduino.h>

   // Define PIR sensor pin
   const int pirPin = 33;  // Signal pin connected to GPIO33

   void setup() {
       // Initialize serial communication at 115200 baud
       Serial.begin(115200);
       delay(1000); // Give time for Serial Monitor to start

       // Set PIR pin as input
       pinMode(pirPin, INPUT);

       Serial.println("PIR Sensor Test Started");
   }

   void loop() {
       // Read PIR sensor digital value
       int motionDetected = digitalRead(pirPin);

       if (motionDetected == HIGH) {
           // Motion detected
           Serial.println("Motion Detected!");
       } else {
           // No motion
           Serial.println("No Motion");
       }

       // Wait 3000 milliseconds before next reading
       delay(3000);
   }

----


Code Burning Options
~~~~~~~~~~~~~~~~~~~~

**You can directly copy the code provided above into the Arduino IDE for burning.**

1.Download the **3.Human_Body.ino** file from the provided resources, open it with the Arduino IDE and upload it to the ESP32 development board, or directly copy the complete code above into the Arduino IDE for programming.


2.Download the **3.Human_Body.bin** firmware file from the provided resources and flash it to the ESP32 development board using the flash_download_tool.

----

Effect Display
~~~~~~~~~~~~~~

Open the serial port monitor and set the baud rate to 115200. The serial port will then display whether a human body has been detected.

.. image:: _static/COURSE/8.pir.png
   :width: 500
   :align: center

----

Course 4：Burglar Alarm
-----------------------

Wiring Diagram
~~~~~~~~~~~~~~

 - PIR Sensor → ESP32 IO33

 - Light Sensor → ESP32 IO33

 - Buzzer Module → ESP32 IO33

.. image:: _static/COURSE/9.alarm.png
   :width: 800
   :align: center

----

Sample Code
~~~~~~~~~~~

.. code-block:: cpp

  // Pin definitions
  const int BUZZER_PIN = 26;
  const int PIR_PIN = 33;
  const int LIGHT_PIN = 34;

  // Constants
  const int LIGHT_THRESHOLD = 10;
  const unsigned long ALARM_DURATION = 5000;

  // Variables
  bool alarmActive = false;
  unsigned long alarmStartTime = 0;

  void setup() {
    Serial.begin(115200);
    Serial.println("Night Security Alarm System Started");
    Serial.println("===================================");
    
    pinMode(BUZZER_PIN, OUTPUT);
    pinMode(PIR_PIN, INPUT);
    pinMode(LIGHT_PIN, INPUT);
    
    digitalWrite(BUZZER_PIN, LOW);
    
    Serial.println("System Ready - Monitoring...");
  }

  void loop() {
    int lightValue = readLightLevel();
    bool motionDetected = readMotion();
    
    Serial.print("Light Level: ");
    Serial.print(lightValue);
    Serial.print(" | Motion: ");
    Serial.println(motionDetected ? "DETECTED" : "No");
    
    if (lightValue < LIGHT_THRESHOLD && motionDetected && !alarmActive) {
      triggerAlarm();
      Serial.println("ALARM TRIGGERED! Low light + motion detected!");
    }
    
    if (alarmActive) {
      handleActiveAlarm();
    }
    
    delay(500);
  }

  // Read and normalize light level (0-100)
  int readLightLevel() {
    int rawValue = analogRead(LIGHT_PIN);
    int normalizedValue = map(rawValue, 0, 4095, 0, 100);
    normalizedValue = constrain(normalizedValue, 0, 100);
    return normalizedValue;
  }

  // Read PIR motion sensor
  bool readMotion() {
    return digitalRead(PIR_PIN) == HIGH;
  }

  // Trigger alarm
  void triggerAlarm() {
    alarmActive = true;
    alarmStartTime = millis();
    digitalWrite(BUZZER_PIN, HIGH);
    Serial.println("=== ALARM ACTIVATED ===");
  }

  // Handle active alarm
  void handleActiveAlarm() {
    unsigned long currentTime = millis();
    if (currentTime - alarmStartTime >= ALARM_DURATION) {
      stopAlarm();
      Serial.println("Alarm stopped after duration");
    }
  }

  // Stop alarm
  void stopAlarm() {
    alarmActive = false;
    digitalWrite(BUZZER_PIN, LOW);
    Serial.println("=== ALARM DEACTIVATED ===");
  }

----


Code Burning Options
~~~~~~~~~~~~~~~~~~~~

**You can directly copy the code provided above into the Arduino IDE for burning.**

1.Download the **4.Burglar_Alarm.ino** file from the provided resources, open it with the Arduino IDE and upload it to the ESP32 development board, or directly copy the complete code above into the Arduino IDE for programming.


2.Download the **4.Burglar_Alarm.bin** firmware file from the provided resources and flash it to the ESP32 development board using the flash_download_tool.

----

Effect Display
~~~~~~~~~~~~~~

When the ambient light drops to 10% and someone passes by, a buzzer alarm sounds and relevant information is displayed on the serial monitor.

.. image:: _static/COURSE/10.alarm.png
   :width: 500
   :align: center

----

Course 5：Infrared remote
-------------------------

Wiring Diagram
~~~~~~~~~~~~~~

 - IR Receiver Module → ESP32 IO15

.. image:: _static/COURSE/11.IR.png
   :width: 800
   :align: center

----

Sample Code
~~~~~~~~~~~

.. code-block:: cpp
    
  #include <IRremote.h>

  // Hardware Definitions
  #define IR_RECEIVE_PIN 15
  String lastKey = "";      // Save last key press
  String currentKey = "";

  // Key Mapping
  String keyMap(uint32_t code) {
    switch(code) {
      case 0x16: return "1";
      case 0x19: return "2";
      case 0x0d: return "3";
      case 0x0c: return "4";
      case 0x18: return "5";
      case 0x5e: return "6";
      case 0x08: return "7";
      case 0x1c: return "8";
      case 0x5A: return "9";
      case 0x52: return "0";
      case 0x42: return "*";
      case 0x4A: return "#";
      case 0x46: return "UP";
      case 0x15: return "DOWN";
      case 0x40: return "OK";
      case 0x44: return "LEFT";
      case 0x43: return "RIGHT";
      default: return "";
    }
  }

  // Setup
  void setup() {
    Serial.begin(115200);
    Serial.println("ESP32 IR Remote Serial Display");
    Serial.println("==============================");

    // IR Receiver initialization
    IrReceiver.begin(IR_RECEIVE_PIN, ENABLE_LED_FEEDBACK);
    Serial.println("IR Receiver initialized");
    Serial.println("Waiting for IR signals...");
    Serial.println();
  }

  // Main Loop
  void loop() {
    // Detect IR signals
    if (IrReceiver.decode()) {
      uint32_t code = IrReceiver.decodedIRData.command; // Get command code
      String key = keyMap(code);

      if (key != "" && key != lastKey) {  // Only update for new keys
        currentKey = key;
        lastKey = key;
        Serial.print("IR Key Pressed: ");
        Serial.println(currentKey);
      }

      IrReceiver.resume();  // Prepare for next reception
    }
  }

----

Code Burning Options
~~~~~~~~~~~~~~~~~~~~

**You can directly copy the code provided above into the Arduino IDE for burning.**

1.Download the **5.Infrared_Remote.ino** file from the provided resources, open it with the Arduino IDE and upload it to the ESP32 development board, or directly copy the complete code above into the Arduino IDE for programming.


2.Download the **5.Infrared_Remote.bin** firmware file from the provided resources and flash it to the ESP32 development board using the flash_download_tool.

----

Effect Display
~~~~~~~~~~~~~~

Pressing any button on the remote control will display the corresponding button in the serial port monitor.

.. image:: _static/COURSE/12.IR.png
   :width: 500
   :align: center

----

Course 6：Remote Control Fan
----------------------------

Wiring Diagram
~~~~~~~~~~~~~~

 - IR Receiver Module → ESP32 IO15
 - Motor Fan Module → ESP32 IO27

.. image:: _static/COURSE/13.fan.png
   :width: 800
   :align: center

----

Sample Code
~~~~~~~~~~~

.. code-block:: cpp
    
  #include <IRremote.h>

  // Pin Definitions
  #define IR_RECEIVE_PIN 15
  #define FAN_PIN 27

  bool fanOn = false;
  int fanLevel = 0;
  String lastKey = "";
  unsigned long lastKeyTime = 0; // Debounce timer

  // Key Mapping
  String keyMap(uint32_t code) {
    switch(code) {
      case 0x16: return "1";
      case 0x19: return "2";
      case 0x0d: return "3";
      case 0x40: return "OK";
      default: return "";
    }
  }

  // Fan Control Function
  void setFanLevel(int level, bool on = true){
    fanOn = on;
    fanLevel = (fanOn) ? level : 0;
    int duty = 0;
    if(fanOn){
      switch(fanLevel){
        case 1: duty = 85; break;
        case 2: duty = 170; break;
        case 3: duty = 255; break;
        default: duty = 0;
      }
    }
    analogWrite(FAN_PIN, duty);
  }

  // Setup
  void setup(){
    Serial.begin(115200);
    Serial.println("ESP32 Fan Control via IR");
    Serial.println("========================");
    Serial.println("Key Functions:");
    Serial.println("  OK  - Toggle power");
    Serial.println("  1   - Level 1");
    Serial.println("  2   - Level 2");
    Serial.println("  3   - Level 3");
    Serial.println("========================");

    pinMode(FAN_PIN, OUTPUT);
    setFanLevel(0, false); // Initially turn off fan

    // IR receiver
    IrReceiver.begin(IR_RECEIVE_PIN, ENABLE_LED_FEEDBACK);
    Serial.println("IR Receiver initialized");
    Serial.println("Ready for IR commands...");
    Serial.println();
  }

  // Main Loop
  void loop(){
    if(IrReceiver.decode()){
      uint32_t code = IrReceiver.decodedIRData.command;
      String key = keyMap(code);

      if(key != "" && (key != lastKey || millis() - lastKeyTime > 300)){
        lastKey = key;
        lastKeyTime = millis();

        if(key == "OK") setFanLevel((fanLevel > 0) ? fanLevel : 1, !fanOn);
        else if(fanOn){
          if(key == "1") setFanLevel(1);
          else if(key == "2") setFanLevel(2);
          else if(key == "3") setFanLevel(3);
        }

        Serial.print("IR Key: ");
        Serial.print(key);
        Serial.print(" => Fan Level: ");
        Serial.print(fanLevel);
        Serial.print(" | Fan State: ");
        Serial.println(fanOn ? "ON" : "OFF");
      }

      IrReceiver.resume();
    }
  }
  
----

Code Burning Options
~~~~~~~~~~~~~~~~~~~~

**You can directly copy the code provided above into the Arduino IDE for burning.**

1.Download the **6.FAN.ino** file from the provided resources, open it with the Arduino IDE and upload it to the ESP32 development board, or directly copy the complete code above into the Arduino IDE for programming.

2.Download the **6.FAN.bin** firmware file from the provided resources and flash it to the ESP32 development board using the flash_download_tool.

----

Effect Display
~~~~~~~~~~~~~~

Press the "OK" button on the infrared remote control to start the fan. The default speed is 1. Press the button to increase the speed to 2 or 3, and the airflow will gradually increase. Press the "OK" button again to turn off the fan.

.. image:: _static/COURSE/14.fan.png
   :width: 500
   :align: center

----
